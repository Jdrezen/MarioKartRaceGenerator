<!DOCTYPE html>
<html>
    <link rel="stylesheet" href="style.css">
    <body>
        <div>
            <input type="button" id="button" value="Trouver prochaine course" onclick="generate()">
            <input type="button" id="button" value="Réinitialiser" onclick="clean()">
            <h1 id="nombreCourses">Nombre de courses restantes : </div>
                <img id="coupeImage">
            <div id="texte">
                <h1 id="courseText"></div>
                <div id="erreur"\>
            </div>
        </div> 
                
    </body>
    <script>
        const coupesImg = ["images/champignon.png", "images/fleur.png", "images/etoile.png", "images/couronne.png",
        "images/oeuf.png", "images/animal_crossing.png", "images/carapace.png", "images/banane.png",
        "images/feuille.png", "images/eclair.png", "images/triforce.png", "images/clochette.png"];

        const nomCourses = ["Champidrome", "Parc Glougloop", "Piste aux délices", "Temple Thwomp"
        , "Circuit Mario ", "Promenade Toad", "Manoir trempé", "Cascades Maskass"
        , "Aéroport Azur", "Lagon Tourbillon", "Club Mario", "Descente givrée"
        , "Voie céleste", "Désert Toussec", "Château de Bowser", "Route Arc-en-ciel"
        , "GCN Circuit Yoshi", "Arène d'Excitebike", "Route du dragon", "Mute City"
        , "GCN Parc Baby", "GBA Pays Fromage", "Passage Feuillage", "Animal Crossing"
        , "Wii Prairie Meuh Meuh", "GBA Circuit Mario", "DS Plage Cheep Cheep", "N64 Autoroute Toad"
        , "GCN Désert Sec Sec", "SNES Plaine Donut 3", "N64 Autodrome royal", "3DS Forêt tropicale DK"
        , "DS Stade Wario", "GCN Royaume Sorbet", "3DS Piste musicale", "N64 Vallée Yoshi"
        , "DS Horloge Tic-Tac", "3DS Égout Piranha", "Wii Volcan grondant", "N64 Route Arc-en-ciel"
        , "Wii Mine Wario", "SNES Route Arc-en-ciel", "Station Glagla", "Circuit d'Hyrule"
        , "3DS Koopapolis", "GBA Route Ruban", "Métro Turbo", "Big Blue"];

        let coursesRestantes = [];
        for(let i = 0; i < nomCourses.length; i++){
            coursesRestantes.push(i);        
        }

        document.getElementById("nombreCourses").innerHTML += nomCourses.length; 

        function generate(){
            const course = coursesRestantes.length != 0 ? Math.floor(Math.random() * coursesRestantes.length) : -1;

            if(course != -1){
                const coupe = parseInt(coursesRestantes[course] / 4);

                document.getElementById("courseText").innerHTML = nomCourses[coursesRestantes[course]];
                document.getElementById("coupeImage").src = coupesImg[coupe];

                coursesRestantes.splice(course, 1);
                document.getElementById("nombreCourses").innerHTML = "Nombre de courses restantes : " + coursesRestantes.length;
            }
            
            else{
                document.getElementById("erreur").innerHTML = "Toutes les courses sont sorties !";
            }
        }

        function clean(){
            coursesRestantes = [];
            for(let i = 0; i < nomCourses.length; i++){
                coursesRestantes.push(i);        
            }
            document.getElementById("nombreCourses").innerHTML = "Nombre de courses restantes : " + coursesRestantes.length; 
            document.getElementById("courseText").innerHTML = "";
            document.getElementById("coupeImage").src = "";
            document.getElementById("erreur").innerHTML = "";
        }

    </script>
</html>